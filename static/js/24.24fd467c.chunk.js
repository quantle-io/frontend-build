(this["webpackJsonpquantria-frontend"]=this["webpackJsonpquantria-frontend"]||[]).push([[24],{268:function(e,t,a){"use strict";var n=a(9),c=a(57),r=(a(0),a(142)),i=a(203),o=a(144),s=a(71),l=a(199),d=a(204),j=a(1),u=["children","content","contentClass","darkTitle","secondary","sx","title"],b=function(e){var t=e.children,a=e.content,b=e.contentClass,h=e.darkTitle,p=e.secondary,O=e.sx,x=void 0===O?{}:O,m=e.title,g=Object(c.a)(e,u),f=Object(r.a)();return Object(j.jsxs)(i.a,Object(n.a)(Object(n.a)({sx:Object(n.a)({border:"1px solid",borderColor:f.palette.primary.light,":hover":{boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)"}},x)},g),{},{children:[!h&&m&&Object(j.jsx)(o.a,{sx:{p:2.5},title:Object(j.jsx)(s.a,{variant:"h5",children:m}),action:p}),h&&m&&Object(j.jsx)(o.a,{sx:{p:2.5},title:Object(j.jsx)(s.a,{variant:"h4",children:m}),action:p}),m&&Object(j.jsx)(l.a,{sx:{opacity:1,borderColor:f.palette.primary.light}}),a&&Object(j.jsx)(d.a,{sx:{p:2.5},className:b,children:t}),!a&&t]}))};b.defaultProps={content:!0},t.a=b},286:function(e,t,a){"use strict";var n=a(15),c=a(0),r=a.n(c),i=a(534),o=a(249),s=a(1),l=r.a.forwardRef((function(e,t){var a,c,r=e.children,l=e.type,d=e.direction,j=e.offset,u=e.scale;switch(d){case"up":case"left":a=j,c=0;break;default:a=0,c=j}var b=Object(i.a)(a,c),h=Object(n.a)(b,2),p=h[0],O=h[1],x=Object(i.a)(a,c),m=Object(n.a)(x,2),g=m[0],f=m[1];switch(l){case"rotate":return Object(s.jsx)(o.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:r});case"slide":return"up"===d||"down"===d?Object(s.jsx)(o.a.div,{ref:t,animate:{y:g},onHoverEnd:function(){return f()},onHoverStart:function(){return f()},children:r}):Object(s.jsx)(o.a.div,{ref:t,animate:{x:p},onHoverEnd:function(){return O()},onHoverStart:function(){return O()},children:r});default:return"number"===typeof u&&(u={hover:u,tap:u}),Object(s.jsx)(o.a.div,{ref:t,whileHover:{scale:u.hover},whileTap:{scale:u.tap},children:r})}}));l.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.a=l},565:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(0),r=a.n(c),i=a(255),o=a(71),s=a(256),l=a(9),d=a(251),j=a(142),u=a(20),b=a(300),h=a(252),p=a(199),O=a(569),x=a(566),m=a(567),g=a(301),f=a(39),y=a(103),v=a(268),k=a(203),w=a(204),C=a(380),S=a(1),R=Object(d.a)({cardHeading:{marginRight:"8px",marginTop:"18px",marginBottom:"14px"}}),E=function(){var e=R();return Object(S.jsx)(k.a,{children:Object(S.jsx)(w.a,{children:Object(S.jsx)(i.a,{container:!0,direction:"column",children:Object(S.jsx)(i.a,{item:!0,children:Object(S.jsx)(C.a,{variant:"rect",className:e.cardHeading,height:20})})})})})},I=a(25),A=a(106),P=a.n(A),z=a(286),_=Object(d.a)((function(e){return{card:{backgroundColor:e.palette.secondary.main,color:"#fff",overflow:"hidden",position:"relative"},avatar:Object(l.a)(Object(l.a)(Object(l.a)({},e.typography.commonAvatar),e.typography.largeAvatar),{},{backgroundColor:e.palette.secondary[800],marginTop:"8px"}),avatarRight:Object(l.a)(Object(l.a)(Object(l.a)({},e.typography.commonAvatar),e.typography.mediumAvatar),{},{backgroundColor:e.palette.secondary.dark,color:e.palette.secondary[200],zIndex:1}),cardHeading:{fontSize:"1.5rem",fontWeight:500,marginRight:"8px",marginTop:"14px",marginBottom:"6px"},subHeading:{fontSize:"1rem",fontWeight:500,color:e.palette.secondary[200]},avatarCircle:Object(l.a)(Object(l.a)({cursor:"pointer"},e.typography.smallAvatar),{},{backgroundColor:e.palette.secondary[200],color:e.palette.secondary.dark}),circleIcon:{transform:"rotate3d(1, 1, 1, 45deg)"},menuItem:{marginRight:"14px",fontSize:"1.25rem"},cardAction:{padding:"10px",paddingTop:0,justifyContent:"center"},primaryLight:{color:e.palette.primary[200],cursor:"pointer"},divider:{marginTop:"12px",marginBottom:"12px"},avatarSuccess:{width:"32px",height:"32px",borderRadius:"5px",backgroundColor:e.palette.success.light,color:e.palette.success.dark,marginLeft:"15px"},successDark:{color:e.palette.success.dark},avatarError:{width:"32px",height:"32px",borderRadius:"5px",backgroundColor:e.palette.orange.light,color:e.palette.orange.dark,marginLeft:"15px"},errorDark:{color:e.palette.orange.dark},loginInput:Object(l.a)({},e.typography.customInput)}})),H=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),a=t[0],s=(t[1],Object(c.useState)(!1)),l=Object(n.a)(s,2),d=l[0],k=l[1],w=Object(c.useState)([]),C=Object(n.a)(w,2),R=C[0],A=C[1],H=Object(c.useState)(!1),T=Object(n.a)(H,2),W=T[0],N=T[1],D=Object(c.useState)(""),L=Object(n.a)(D,2),V=L[0],B=L[1],F=Object(c.useState)(""),K=Object(n.a)(F,2),q=K[0],J=K[1],U=Object(c.useState)(null),G=Object(n.a)(U,2),M=G[0],Q=G[1],X=(Object(j.a)(),_()),Y=Object(u.c)((function(e){return e.account})),Z=function(){N(!1),k(!1)},$=function(){return P.a.post(I.a.API_SERVER+"users/accounts",{public_key:V,private_key:q,broker_id:W._id},{headers:{Authorization:"".concat(Y.token)}}).then((function(){return Z()})).then((function(){return window.location.reload()})).catch((function(e){Q(e.response.data.msg)})),!1};return Object(c.useEffect)((function(){var e=I.a.API_SERVER+"brokers";P.a.get(e,{headers:{Authorization:"".concat(Y.token)}}).then((function(e){return A(e.data)}))}),[]),Object(S.jsx)(r.a.Fragment,{children:a?Object(S.jsx)(E,{}):Object(S.jsx)(y.a,{border:!1,className:X.card,contentClass:X.content,children:Object(S.jsx)(i.a,{container:!0,direction:"column",children:Object(S.jsxs)(i.a,{item:!0,children:[Object(S.jsx)(b.a,{className:X.cardHeading,disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",onClick:function(){k(!0)},children:"+ Connect an account"}),Object(S.jsx)(h.a,{open:d,onClose:Z,sx:{margin:2},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(S.jsxs)(y.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,maxWidth:"100%",bgcolor:"background.paper"},children:[!1===W?Object(S.jsxs)("div",{children:[Object(S.jsx)(o.a,{variant:"h2",id:"modal-modal-title",children:"Connect a new broker account from one of our available integrations!"}),Object(S.jsx)(o.a,{variant:"subtitle1",id:"modal-modal-description",children:"We're always expanding what we offer, check back later for new integrations!"})]}):Object(S.jsxs)("div",{children:[Object(S.jsx)(i.a,{container:!0,direction:"row",alignItems:"center",children:Object(S.jsxs)(o.a,{variant:"h2",id:"modal-modal-title",children:["Connecting to ",W.name]})}),Object(S.jsx)(o.a,{variant:"subtitle1",id:"modal-modal-description",children:"All we need are your API keys, but don't worry they'll be save with us!"})]}),Object(S.jsx)(p.a,{className:X.divider}),Object(S.jsx)(i.a,{container:!0,spacing:f.b,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:!1===W?R.map((function(e){return Object(S.jsx)(i.a,{item:!0,xs:12,md:6,onClick:function(){return N(e)},children:Object(S.jsx)(v.a,{sx:{cursor:"pointer"},children:Object(S.jsxs)(i.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:[Object(S.jsx)(i.a,{item:!0,xs:6,children:Object(S.jsx)(o.a,{variant:"h3",children:e.name})}),Object(S.jsx)(i.a,{container:!0,item:!0,xs:6,justifyContent:"right",children:Object(S.jsx)("img",{height:50,width:50,src:e.icon})})]})})},e.name)})):Object(S.jsx)(i.a,{item:!0,children:Object(S.jsxs)("form",{children:[Object(S.jsxs)(O.a,{fullWidth:!0,className:X.loginInput,children:[Object(S.jsx)(x.a,{htmlFor:"public-key",children:"Public Key"}),Object(S.jsx)(m.a,{id:"public-key",type:"text",value:V,name:"public_key",onChange:function(e){B(e.target.value)},label:"Public Key",inputProps:{classes:{notchedOutline:X.notchedOutline}}})]}),Object(S.jsxs)(O.a,{fullWidth:!0,className:X.loginInput,children:[Object(S.jsx)(x.a,{htmlFor:"private-key",children:"Private Key"}),Object(S.jsx)(m.a,{id:"private-key",type:"text",value:q,name:"private_key",onChange:function(e){J(e.target.value)},label:"Private Key",inputProps:{classes:{notchedOutline:X.notchedOutline}}}),M&&Object(S.jsx)(g.a,{error:!0,id:"standard-weight-helper-text-email-login",children:M})]}),Object(S.jsx)(z.a,{onClick:$,children:Object(S.jsx)(b.a,{onClick:$,disableElevation:!0,disabled:!1,fullWidth:!0,size:"large",variant:"contained",color:"secondary",children:"Link Account"})})]})})})]})})]})})})})},T=Object(d.a)((function(e){return{card:{backgroundColor:e.palette.secondary.main,color:"#fff",overflow:"hidden",position:"relative"},cardHeading:{fontSize:"1.5rem",fontWeight:500,marginRight:"8px",marginTop:"14px",marginBottom:"6px",color:"#fff"},subHeading:{fontSize:"1rem",fontWeight:500,color:e.palette.secondary[200]},circleIcon:{transform:"rotate3d(1, 1, 1, 45deg)"},menuItem:{marginRight:"14px",fontSize:"1.25rem"},cardAction:{padding:"10px",paddingTop:0,justifyContent:"center"},primaryLight:{color:e.palette.primary[200],cursor:"pointer"},divider:{marginTop:"12px",marginBottom:"12px"},successDark:{color:e.palette.success.dark},errorDark:{color:e.palette.orange.dark},loginInput:Object(l.a)({},e.typography.customInput)}})),W=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),a=t[0],s=(t[1],Object(c.useState)(!1)),l=Object(n.a)(s,2),d=(l[0],l[1],Object(c.useState)([])),h=Object(n.a)(d,2),p=(h[0],h[1],Object(c.useState)(!1)),O=Object(n.a)(p,2),x=(O[0],O[1],Object(c.useState)("")),m=Object(n.a)(x,2),g=(m[0],m[1],Object(c.useState)("")),f=Object(n.a)(g,2),v=(f[0],f[1],Object(j.a)(),T()),k=Object(u.c)((function(e){return e.account}));return Object(S.jsx)(r.a.Fragment,{children:a?Object(S.jsx)(E,{}):Object(S.jsx)(y.a,{border:!1,className:v.card,contentClass:v.content,children:Object(S.jsxs)(i.a,{container:!0,direction:"column",justifyContent:"center",children:[Object(S.jsx)(i.a,{container:!0,item:!0,justifyContent:"center",children:Object(S.jsx)(o.a,{className:v.cardHeading,variant:"h3",children:"Please verify your account!"})}),Object(S.jsx)(i.a,{item:!0,children:Object(S.jsx)(b.a,{className:v.subHeading,disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",onClick:function(){P.a.post(I.a.API_SERVER+"users/enable",{},{headers:{authorization:"".concat(k.token)}}).then((function(e){console.log(e)}))},children:"Didn't get an email? Resend now! \u21ba"})})]})})})},N=a(21);t.default=function(){var e=Object(u.c)((function(e){return e.account})),t=window.location.search,a=new URLSearchParams(t).get("code"),r=(Object(j.a)(),Object(c.useState)(null)),l=Object(n.a)(r,2),d=l[0],b=l[1],h=Object(c.useState)([]),p=Object(n.a)(h,2),O=p[0],x=p[1],m=Object(N.g)();return Object(c.useEffect)((function(){a&&(console.log(a),P.a.post(I.a.API_SERVER+"users/access_key?code="+a+"&url="+encodeURIComponent(window.location.href),{},{headers:{authorization:"".concat(e.token)}}).then((function(e){console.log(e),window.location=window.location.href.split("?")[0]})))}),[]),Object(c.useEffect)((function(){P.a.get(I.a.API_SERVER+"users/accounts",{headers:{authorization:"".concat(e.token)}}).then((function(e){console.log(e),x(e.data)}))}),[]),Object(c.useEffect)((function(){P.a.get(I.a.API_SERVER+"users/enabled",{headers:{authorization:"".concat(e.token)}}).then((function(e){b(e.data.is_enabled)}))}),[]),Object(S.jsx)(i.a,{container:!0,spacing:f.b,children:Object(S.jsx)(i.a,{item:!0,xs:12,children:Object(S.jsxs)(i.a,{container:!0,spacing:f.b,children:[O.map((function(e,t){return Object(S.jsx)(i.a,{item:!0,xs:12,md:6,lg:4,children:Object(S.jsx)(v.a,{onClick:function(){return m.push("/utils/accounts/"+e._id)},title:Object(S.jsxs)(i.a,{container:!0,children:[Object(S.jsxs)(i.a,{item:!0,xs:6,children:[Object(S.jsx)(o.a,{variant:"h2",children:e.name}),Object(S.jsx)(o.a,{variant:"h4",children:e.public_key})]}),Object(S.jsx)(i.a,{container:!0,item:!0,xs:6,justifyContent:"right",children:Object(S.jsx)("img",{height:50,width:50,src:e.icon})})]}),sx:{cursor:"pointer"},children:Object(S.jsxs)(i.a,{container:!0,children:[Object(S.jsx)(i.a,{container:!0,item:!0,xs:6,children:Object(S.jsx)(o.a,{variant:"h1",children:e.info.equity})}),Object(S.jsx)(i.a,{container:!0,item:!0,xs:6,justifyContent:"right",children:e.info.side?Object(S.jsx)(s.a,{label:e.info.change,color:"success"}):!1===e.info.side?Object(S.jsx)(s.a,{label:e.info.change,color:"error"}):Object(S.jsx)(S.Fragment,{})})]})})},t)})),!0===d&&Object(S.jsx)(i.a,{item:!0,xs:12,md:6,lg:4,children:Object(S.jsx)(H,{})}),!1===d&&Object(S.jsx)(i.a,{item:!0,xs:12,md:6,lg:4,children:Object(S.jsx)(W,{})})]})})})}}}]);
//# sourceMappingURL=24.24fd467c.chunk.js.map